// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`preserve-directive (rollup 2) should merge duplicated directives 1`] = `
{
  "index": "'use client';
'use sukka';
const foo = 'foo';

const bar = 'bar';

const baz = 'baz';

export { bar, baz, foo };
",
}
`;

exports[`preserve-directive (rollup 2) should output separate directive for multiple output chunk 1`] = `
{
  "client": "'use client';
'use sukka';
import { useState } from 'react';

const foo = 'is-client';

const ClientComponent = ()=>{
    const [count] = useState(0);
    return /*#__PURE__*/ React.createElement("div", null, "count: ", count);
};

export { ClientComponent, foo };
",
  "server": "'use server';
import { readFile } from 'fs/promises';

const ServerComponent = async ()=>{
    const foo = await readFile('__virtual_data/foo.txt', 'utf8');
    return /*#__PURE__*/ React.createElement("div", null, foo);
};

export { ServerComponent };
",
}
`;

exports[`preserve-directive (rollup 2) should preserve directives 1`] = `
{
  "index": "'use client';
import { useState } from 'react';

function client() {
    return useState(null);
}

export { client as default };
",
}
`;

exports[`preserve-directive (rollup 2) should preserve shebang 1`] = `
{
  "index": "#!/usr/bin/env node
console.log('shebang');
",
}
`;

exports[`preserve-directive (rollup 3) should merge duplicated directives 1`] = `
{
  "index": "'use client';
'use sukka';
const foo = 'foo';

const bar = 'bar';

const baz = 'baz';

export { bar, baz, foo };
",
}
`;

exports[`preserve-directive (rollup 3) should output separate directive for multiple output chunk 1`] = `
{
  "client": "'use client';
'use sukka';
import { useState } from 'react';

const foo = 'is-client';

const ClientComponent = ()=>{
    const [count] = useState(0);
    return /*#__PURE__*/ React.createElement("div", null, "count: ", count);
};

export { ClientComponent, foo };
",
  "server": "'use server';
import { readFile } from 'fs/promises';

const ServerComponent = async ()=>{
    const foo = await readFile('__virtual_data/foo.txt', 'utf8');
    return /*#__PURE__*/ React.createElement("div", null, foo);
};

export { ServerComponent };
",
}
`;

exports[`preserve-directive (rollup 3) should preserve directives 1`] = `
{
  "index": "'use client';
import { useState } from 'react';

function client() {
    return useState(null);
}

export { client as default };
",
}
`;

exports[`preserve-directive (rollup 3) should preserve shebang 1`] = `
{
  "index": "#!/usr/bin/env node
console.log('shebang');
",
}
`;
